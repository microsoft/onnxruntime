[tool.black]
line-length = 120
# NOTE: Do not extend the exclude list. Edit .lintrunner.toml instead
extend-exclude = "cmake|onnxruntime/core/flatbuffers/"
target-version = ["py37", "py38", "py39", "py310", "py311"]

[tool.isort]
# NOTE: Do not extend the exclude list. Edit .lintrunner.toml instead
profile = "black"
line_length = 120
extend_skip_glob = [
    "cmake/*",
    "orttraining/*",
    "onnxruntime/core/flatbuffers/*",
]

[tool.pydocstyle]
convention = "google"

[tool.pylint.BASIC]
good-names = [
    "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n",
    "p", "q", "r", "s", "t", "u", "v", "w", "ex", "Run", "_", "x", "y", "z"
]

[tool.pylint.messages_control]
disable = [
    "format",
    "line-too-long",
    "import-error",
    "no-name-in-module",
    "no-member",
    "too-many-arguments",
    "too-many-locals",
    "too-few-public-methods",
    "missing-docstring",
    "fixme",
]

[tool.pyright]
exclude = ["onnxruntime/core/flatbuffers/*"]
reportMissingImports = false

[tool.ruff]
# NOTE: Do not create an exclude list. Edit .lintrunner.toml instead
target-version = "py37"
select = [
    "E", # pycodestyle
    "F", # Pyflakes
    "W", # pycodestyle
    "B", # flake8-bugbear
    "N", # pep8-naming
    "YTT", # flake8-2020
    "RUF", # Ruff-specific rules
    "SIM", # flake8-simplify
    "UP", # pyupgrade
]
# NOTE: Refrain from growing the ignore list unless for exceptional cases.
# Always include a comment to explain why.
ignore = [
    "E501", # Line length controlled by black
    "N803", # Argument casing
    "N812", # Allow import torch.nn.functional as F
    "N999", # Module names
    "SIM102", # We don't perfer always combining if branches
    "SIM108", # We don't encourage ternary operators
    "SIM114", # Don't combine if branches for debugability
    "SIM116", # Don't use dict lookup to replace if-else
]
ignore-init-module-imports = true
unfixable = [
    "F401", # Unused imports
]

[tool.ruff.per-file-ignores]
# NOTE: Refrain from growing the ignore list unless for exceptional cases.
# Prefer inline ignores with `noqa: xxx`.
# Eventually this list should become empty.
"orttraining/orttraining/test/**" = ["N802"] # Function casing

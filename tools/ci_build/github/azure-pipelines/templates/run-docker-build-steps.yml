# calls tools/ci_build/github/linux/run_dockerbuild.sh

parameters:
- name: RunDockerBuildArgs
  type: string
- name: DisplayName
  type: string
  default: "Call run_dockerbuild.sh"
- name: UseImageCacheContainerRegistry
  type: boolean
  default: true

steps:
- ${{ if eq(parameters.UseImageCacheContainerRegistry, true) }}:
  - script: |
      tools/ci_build/github/linux/run_dockerbuild.sh -i onnxruntimebuildcache ${{ parameters.RunDockerBuildArgs }}
    displayName: "${{ parameters.DisplayName }}"

- ${{ if eq(parameters.UseImageCacheContainerRegistry, false) }}:
  - script: |
      tools/ci_build/github/linux/run_dockerbuild.sh ${{ parameters.RunDockerBuildArgs }}
    displayName: "${{ parameters.DisplayName }}"

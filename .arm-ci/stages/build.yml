#
# SPDX-FileCopyrightText: Copyright 2025 Arm Limited and/or its affiliates <open-source-office@arm.com>
#
# SPDX-License-Identifier: MIT
#

build_release_ubuntu:
  extends:
    - .default_settings
    - .common_setup
  stage: build
  image: mleng--registry.eu-west-1.artifactory.aws.arm.com/kleidi-integrations/onnxrt-builder:0.0.2
  script:
    - ./build.sh --config Release --build_shared_lib --parallel --skip_tests
  artifacts:
    paths:
      - build/
    expire_in: 1h

# build_debug_ubuntu:
#   extends:
#     - .default_settings
#     - .common_setup
#   stage: build
#   image: mleng--registry.eu-west-1.artifactory.aws.arm.com/kleidi-integrations/onnxrt-builder:0.0.2
#   script:
#   - ./build.sh --config Debug --build_shared_lib --parallel --skip_tests
#   artifacts:
#     paths:
#       - build/
#     expire_in: 1h

#example osx build
# build_release_osx:
#   stage: build
#   tag:
#     - mac_ci # TODO: Update with ci mac mini once service acc created
#   script:
#     - ./build.sh --config Release --use_xcode --apple_sysroot macosx --build_shared_lib --osx_arch arm64 --apple_deploy_target 14
#   artifacts:
#     paths:
#       - build/
#     #expire_in: 1h

# build_debug_osx:
#   stage: build
#   tag:
#     - mac_ci
#   script:
#     - ./build.sh --config Debug --use_xcode --apple_sysroot macosx --build_shared_lib --osx_arch arm64 --apple_deploy_target 14
#   artifacts:
#     paths:
#       - build/
#     #expire_in: 1h
